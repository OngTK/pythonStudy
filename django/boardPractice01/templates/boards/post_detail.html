{% extends "base.html" %}
{% block content %}

<div class="card">
    <div class="card-body">
        <div class="d-flex justify-content-between">
            <div>
                <span class="badge text-bg-secondary">{{ post.category.name }}</span>
                <h1 class="h5 mt-2">{{ post.title }}</h1>
                <div class="text-muted small">
                    작성자: {{ post.author.username }} · 조회수 {{ post.view_count }} ·
                    {{ post.created_at|date:"Y-m-d H:i" }}
                </div>
            </div>

            {% if user.is_authenticated %}
            {% if user == post.author or user.is_staff %}
            <div class="d-flex gap-2">
                <a class="btn btn-outline-secondary btn-sm" href="{% url 'boards:post_update' post.id %}">수정</a>
                <a class="btn btn-outline-danger btn-sm" href="{% url 'boards:post_delete' post.id %}">삭제</a>
            </div>
            {% endif %}
            {% endif %}
        </div>

        <hr>
        <div style="white-space: pre-wrap;">{{ post.content }}</div>
    </div>
</div>

<div class="mt-3">
    <a class="btn btn-outline-secondary btn-sm" href="{% url 'boards:post_list' post.category.id %}">목록으로</a>
</div>

{% endblock %}