{% extends "base.html" %}
{% block content %}

<div class="d-flex justify-content-between align-items-center mb-3">
  <h2 class="h5 mb-0">{{ category.name }} 게시판</h2>
  {% if user.is_authenticated %}
    <a class="btn btn-primary btn-sm" href="{% url 'boards:post_create' %}">글 작성</a>
  {% endif %}
</div>

<table class="table table-hover align-middle">
  <thead>
    <tr>
      <th>제목</th>
      <th>작성자</th>
      <th class="text-end">조회수</th>
      <th class="text-end">작성일</th>
    </tr>
  </thead>
  <tbody>
  {% for p in posts %}
    <tr>
      <td><a href="{% url 'boards:post_detail' p.id %}">{{ p.title }}</a></td>
      <td>{{ p.author.username }}</td>
      <td class="text-end">{{ p.view_count }}</td>
      <td class="text-end">{{ p.created_at|date:"Y-m-d H:i" }}</td>
    </tr>
  {% empty %}
    <tr><td colspan="4">게시글이 없습니다.</td></tr>
  {% endfor %}
  </tbody>
</table>

{% endblock %}
